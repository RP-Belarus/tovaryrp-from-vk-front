{"version":3,"sources":["components/Sellers/SellersMap/SellerMarker/SellerMarker.js","components/Sellers/SellersMap/SellersMap.js","components/Spinner/Spinner.js","components/Sellers/SellersList/SellersList.js","components/Sellers/SellerDescription/SellerDescription.js","components/Products/ProductItem/ProductItem.js","components/Products/ProductsList.js","components/Intro/Intro.js","pages/Main.js","pages/Links.js","pages/Contacts.js","components/Navigation/MainNavigation.js","App.js","index.js"],"names":["SellerMarker","props","defaultIcon","L","icon","iconUrl","shadowUrl","iconShadow","iconAnchor","popupAnchor","Marker","prototype","options","map","useMap","markerRef","useRef","seller","openPopup","useEffect","flyTo","mapCenter","current","ref","position","lat","lon","eventHandlers","click","onSellerClick","vk_owner_id","Popup","Image","className","src","vk_group_info","photo_50","roundedCircle","name","sellersMap","mapZoom","MapContainer","center","zoom","style","width","height","TileLayer","url","attribution","sellers","index","key","selectedSellerId","spinner","sellersList","sellersLoaded","ListGroup","variant","ListGroupItem","_id","onClick","action","SellerDescription","selectedSeller","vk_name","photo_200","rounded","description","clear","productItem","Card","Body","Img","product","thumb_photo","Title","title","Text","price","text","productsList","productsLoaded","products","ProductItem","Intro","mainPage","Container","fluid","Row","Col","SellersMap","ProductsList","LinksPage","Component","ContactsPage","mainNavigation","Navbar","bg","Brand","Nav","to","Link","App","handleSellerClick","seller_id","state","find","coordinates","setState","fetch","SELLERS_API_URL","then","response","json","data","tovary","items","this","Fragment","MainNavigation","from","exact","path","Main","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8ea88817.chunk.js","sourcesContent":["import React, { useRef, useEffect } from 'react'\r\nimport { Image } from 'react-bootstrap'\r\nimport { Marker, Popup, useMap } from 'react-leaflet'\r\n\r\nimport L from 'leaflet'\r\nimport icon from 'leaflet/dist/images/marker-icon.png'\r\nimport iconShadow from 'leaflet/dist/images/marker-shadow.png'\r\n\r\nimport './SellerMarker.css'\r\n\r\nconst SellerMarker = props => {\r\n\r\n    // См. как сделать Popup на Маркере:  https://stackoverflow.com/questions/56633263/open-pop-up-on-click-outside-of-map\r\n    const defaultIcon = L.icon({\r\n        iconUrl: icon,\r\n        shadowUrl: iconShadow,\r\n        iconAnchor: [13,41],\r\n        popupAnchor: [1,-33]\r\n    })\r\n    L.Marker.prototype.options.icon = defaultIcon\r\n\r\n    const map = useMap()\r\n    const markerRef = useRef(null)\r\n\r\n    const { seller, openPopup } = props\r\n\r\n    useEffect(() => {\r\n        map.flyTo(props.mapCenter)\r\n        if (openPopup) markerRef.current.openPopup()\r\n    }, [openPopup])\r\n\r\n    return (\r\n        <Marker\r\n            ref={markerRef}\r\n            position={[seller.lat, seller.lon]}\r\n            eventHandlers={{\r\n                click: () => {\r\n                    props.onSellerClick(seller.vk_owner_id)\r\n                }\r\n            }}\r\n        >\r\n            <Popup>\r\n                <table>\r\n                <tr>\r\n                    <td>\r\n                        <Image\r\n                            className=\"float-left popup-image\"\r\n                            src={seller.vk_group_info.photo_50}\r\n                            roundedCircle\r\n                        />\r\n                    </td>\r\n                    <td>\r\n                        <span>{seller.name}</span>\r\n                    </td>\r\n                </tr>\r\n                </table>\r\n            </Popup>\r\n            {/*<Tooltip offset={[0,-28]}><b>{village.village_name}</b></Tooltip>*/}\r\n        </Marker>\r\n    )\r\n}\r\n\r\nexport default SellerMarker","import React from 'react'\r\n\r\nimport { MapContainer, TileLayer } from 'react-leaflet'\r\nimport 'leaflet/dist/leaflet.css'\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster'\r\nimport 'react-leaflet-markercluster/dist/styles.min.css'\r\n\r\n\r\nimport SellerMarker from './SellerMarker/SellerMarker'\r\n\r\nconst sellersMap = props => {\r\n    // ------  Attribution and Url for OpenStreetMap ----------\r\n    const attribution = '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors';\r\n    const url ='https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png';\r\n    // ------ Параметры карты Leaflet\r\n    const mapCenter = props.mapCenter;\r\n    const mapZoom = props.mapZoom;\r\n\r\n    return (\r\n        <div>\r\n            <p>Выберите продавца на карте:</p>\r\n            <MapContainer\r\n                center={mapCenter}\r\n                zoom={mapZoom}\r\n                style={{width: '400px', height: '200px'}}\r\n            >\r\n                <TileLayer\r\n                    url={url}\r\n                    attribution={attribution}\r\n                />\r\n                {/*<MarkerClusterGroup>*/}\r\n                    {\r\n                        props.sellers.map((seller, index) =>\r\n                            <SellerMarker\r\n                                key={index}\r\n                                seller={seller}\r\n                                mapCenter={mapCenter}\r\n                                openPopup={props.selectedSellerId === seller.vk_owner_id}\r\n                                onSellerClick={props.onSellerClick}\r\n                            />\r\n                        )\r\n                    }\r\n                {/*</MarkerClusterGroup>*/}\r\n            </MapContainer>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default sellersMap","//   См.: https://loading.io/css\r\n\r\nimport React from 'react'\r\n\r\nimport './Spinner.css'\r\n\r\nconst spinner = () => <div className=\"lds-ring\"><div></div><div></div><div></div><div></div></div>\r\n\r\nexport default spinner","import React from 'react'\r\nimport { ListGroup, ListGroupItem, Image } from 'react-bootstrap'\r\n\r\nimport './SellersList.css'\r\nimport Spinner from '../../../components/Spinner/Spinner'\r\n\r\nconst sellersList = props => (\r\n    <div>\r\n        <p>...или из списка:</p>\r\n        { props.sellersLoaded\r\n            ? (\r\n                <ListGroup variant=\"flush\">\r\n                    {props.sellers.map(seller =>\r\n                        <ListGroupItem\r\n                            key={seller._id}\r\n                            onClick={() => {\r\n                                props.onSellerClick(seller.vk_owner_id);\r\n                            }}\r\n                            action\r\n                        >\r\n                            <Image\r\n                                src={seller.vk_group_info.photo_50}\r\n                                roundedCircle\r\n                                className=\"float-left list-image\"\r\n                            />\r\n                            <span\r\n                                className={(seller.vk_owner_id === props.selectedSellerId) ? \"seller-active\" : \"\"}\r\n                            >\r\n                                {seller.name}\r\n                            </span>\r\n                        </ListGroupItem>\r\n                    )}\r\n                </ListGroup>\r\n            ) : (\r\n                <Spinner/>\r\n            )\r\n        }\r\n    </div>\r\n)\r\n\r\nexport default sellersList","import React from 'react'\r\nimport { Image, Media } from 'react-bootstrap'\r\n\r\nimport './SellerDescription.css'\r\n\r\nconst SellerDescription = props => {\r\n    if (!props.selectedSeller) {\r\n        return (\r\n            <div>\r\n                <p>Ожидаем данные продавца...</p>\r\n            </div>\r\n        )\r\n    }\r\n    return (\r\n        <div className=\"description-card\">\r\n            <h3>{props.selectedSeller.vk_group_info.vk_name}</h3>\r\n            <Image\r\n                width={150}\r\n                height={150}\r\n                className=\"description-image\"\r\n                src={props.selectedSeller.vk_group_info.photo_200}\r\n                rounded\r\n            />\r\n            <div>{props.selectedSeller.vk_group_info.description}</div>\r\n            <br clear=\"all\"/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SellerDescription","import React from 'react'\r\nimport { Card } from 'react-bootstrap'\r\n\r\nconst productItem = props => (\r\n    <Card style={{ width: '12rem', height: '16rem' }} className=\"float-left\">\r\n        <Card.Body>\r\n            <Card.Img src={props.product.thumb_photo} />\r\n            <Card.Title>\r\n                {props.product.title}\r\n            </Card.Title>\r\n            <Card.Text>\r\n                Цена: {props.product.price.text}\r\n            </Card.Text>\r\n        </Card.Body>\r\n    </Card>\r\n)\r\n\r\nexport default productItem","import React from 'react'\r\n\r\nimport ProductItem from './ProductItem/ProductItem'\r\nimport Spinner from '../../components/Spinner/Spinner'\r\nimport { CardDeck, CardGroup, Card } from 'react-bootstrap'\r\n\r\nconst productsList = props => (\r\n    <div>\r\n        <h4>Список товаров</h4>\r\n        {/*<ProductItem/>*/}\r\n        { props.productsLoaded\r\n            ? (\r\n                <>\r\n                {/*<CardGroup>*/}\r\n                    {props.products.map( (product, index) =>\r\n                        <ProductItem\r\n                            product={product}\r\n                        />\r\n                    )}\r\n                {/*</CardGroup>*/}\r\n                </>\r\n            ) : (\r\n                <Spinner/>\r\n            ) }\r\n    </div>\r\n)\r\n\r\nexport default productsList","import React from 'react'\r\n\r\nconst Intro = () => (\r\n    <div>\r\n        Добро пожаловать на страницу товаров Родовых поместий. Выберите продавца из списка.\r\n    </div>\r\n)\r\n\r\nexport default Intro","import React from 'react'\r\nimport { Container, Row, Col } from 'react-bootstrap'\r\n\r\nimport SellersMap from '../components/Sellers/SellersMap/SellersMap'\r\nimport SellersList from '../components/Sellers/SellersList/SellersList'\r\nimport SellerDescription from '../components/Sellers/SellerDescription/SellerDescription'\r\nimport ProductsList from '../components/Products/ProductsList'\r\nimport Intro from '../components/Intro/Intro'\r\n\r\nconst mainPage = props => {\r\n    return (\r\n        <>\r\n            <Container fluid>\r\n                <Row>\r\n                    <Col>\r\n                        <SellersMap\r\n                            mapCenter={props.mapCenter}\r\n                            mapZoom={props.mapZoom}\r\n                            sellers={props.sellers}\r\n                            onSellerClick={props.onSellerClick}\r\n                            selectedSellerId={props.selectedSellerId}\r\n                        />\r\n                        <SellersList\r\n                            sellersLoaded={props.sellersLoaded}\r\n                            sellers={props.sellers}\r\n                            onSellerClick={props.onSellerClick}\r\n                            selectedSellerId={props.selectedSellerId}\r\n                        />\r\n                    </Col>\r\n                    <Col>\r\n                        { !props.selectedSeller\r\n                            ? (\r\n                                <Intro/>\r\n                            ) : (\r\n                                <div>\r\n                                    <SellerDescription\r\n                                        selectedSeller={props.selectedSeller}\r\n                                    />\r\n                                    <ProductsList\r\n                                        productsLoaded={props.productsLoaded}\r\n                                        products={props.products}\r\n                                    />\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default mainPage","import React, { Component } from 'react'\r\n\r\nclass LinksPage extends Component {\r\n    render() {\r\n        return (<h1>Ссылки</h1>)\r\n    }\r\n}\r\n\r\nexport default LinksPage","import React, { Component } from 'react'\r\n\r\nclass ContactsPage extends Component {\r\n    render() {\r\n        return (<h1>Контакты</h1>)\r\n    }\r\n}\r\n\r\nexport default ContactsPage","import React from 'react'\r\nimport { Navbar, Nav } from 'react-bootstrap'\r\nimport { LinkContainer } from 'react-router-bootstrap'\r\n\r\nconst mainNavigation  = props => (\r\n    <header>\r\n        <Navbar bg=\"light\" variant=\"light\">\r\n            <Navbar.Brand>Товары РП</Navbar.Brand>\r\n            <Nav className=\"mr-auto\">\r\n                <LinkContainer to=\"/\">\r\n                    <Nav.Link>Главная</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/links\">\r\n                    <Nav.Link>Ссылки</Nav.Link>\r\n                </LinkContainer>\r\n                <LinkContainer to=\"/contacts\">\r\n                    <Nav.Link>Контакты</Nav.Link>\r\n                </LinkContainer>\r\n            </Nav>\r\n        </Navbar>\r\n    </header>\r\n)\r\n\r\nexport default mainNavigation","import React, { Component } from 'react';\r\nimport { HashRouter, Route, Redirect, Switch } from 'react-router-dom'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'  // Bootstrap. См.: https://react-bootstrap.github.io/getting-started/introduction/\r\n\r\nimport MainPage from './pages/Main'\r\nimport LinksPage from './pages/Links'\r\nimport ContactsPage from \"./pages/Contacts\";\r\nimport MainNavigation from './components/Navigation/MainNavigation'\r\n\r\nimport './App.css';\r\n\r\nclass App extends Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.SELLERS_API_URL = 'https://tovaryrp-from-vk.herokuapp.com/sellers'\r\n        this.state = {\r\n            sellersLoaded: false,\r\n            sellers: [],\r\n            productsLoaded: false,\r\n            products: [],\r\n            //selectedSellerId: '-70820274',\r\n            selectedSellerId: '',\r\n            selectedSeller: null,\r\n            //mapCenter: [54.81975,28.15401],\r\n            mapCenter: [54.1,27.9],\r\n            mapZoom: 5\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        fetch(this.SELLERS_API_URL)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    sellersLoaded: true,\r\n                    sellers: data,\r\n                    selectedSeller: data.find(seller => seller.vk_owner_id === this.state.selectedSellerId)\r\n                })\r\n            })\r\n    }\r\n\r\n    handleSellerClick = (seller_id) => {\r\n        const selectedSeller = this.state.sellers.find(seller => seller.vk_owner_id === seller_id)\r\n        const { lat, lon } = selectedSeller\r\n        const coordinates = [lat, lon]\r\n\r\n        // Обнуляем список продуктов и флаг, что продукты загружены\r\n        this.setState({\r\n            products: [],\r\n            productsLoaded: false,\r\n            selectedSellerId: seller_id,\r\n            selectedSeller: selectedSeller,\r\n            mapCenter: coordinates\r\n        })\r\n\r\n        // Получаем товары продавца\r\n        fetch(this.SELLERS_API_URL + '/' + seller_id)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({\r\n                    products: data.tovary.response.items,\r\n                    productsLoaded: true\r\n                })\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <HashRouter>\r\n                <React.Fragment>\r\n                    <MainNavigation/>\r\n                    <main>\r\n                        <Switch>\r\n                            <Redirect from=\"/\" to=\"/main\" exact />\r\n                            <Route path=\"/main\">\r\n                                <MainPage\r\n                                    sellersLoaded={this.state.sellersLoaded}\r\n                                    sellers={this.state.sellers}\r\n                                    selectedSeller={this.state.selectedSeller}\r\n                                    selectedSellerId={this.state.selectedSellerId}\r\n                                    productsLoaded={this.state.productsLoaded}\r\n                                    products={this.state.products}\r\n                                    mapCenter={this.state.mapCenter}\r\n                                    mapZoom={this.state.mapZoom}\r\n                                    onSellerClick={this.handleSellerClick}\r\n                                />\r\n                            </Route>\r\n                            <Route path=\"/links\" component={LinksPage} />\r\n                            <Route path=\"/contacts\" component={ContactsPage} />\r\n                        </Switch>\r\n                    </main>\r\n                </React.Fragment>\r\n            </HashRouter>\r\n        );\r\n    }\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}